{% extends 'layouts.html' %}

{% block content %}

{% include '_messages.html' %}

<div class="container">
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8 p-2">
            <h2 class="text-center text-success p-2">Alterar Produtos</h2>

            {% from '_formhelpers.html' import render_field %}
            <form action="" method="POST" enctype="multipart/form-data">

                {{ render_field(form.name, class="form-control", placeholder="Nome do Produto") }}
                {{ render_field(form.price, class="form-control", placeholder="Preço do Produto") }}
                {{ render_field(form.discount, class="form-control", placeholder="Desconto do Produto") }}
                {{ render_field(form.stock, class="form-control", placeholder="Estoque do Produto") }}

                <label for="marca">Adicionar uma Marca</label>
                <select name="marca" id="marca" class="form-select" required>
                    <option value="{{produto.brand_id}}">{{produto.brand.name}}</option>
                    {% for marca in marcas  %}
                    <option value="{{marca.id}}">{{marca.name}}</option>
                    {% endfor  %}
                </select>

                <label for="categoria">Adicionar uma Categoria</label>
                <select name="categoria" id="categoria" class="form-select" required>
                    <option value="{{produto.category_id}}">{{produto.category.name}}</option>
                    {% for categoria in categorias  %}
                    <option value="{{categoria.id}}">{{categoria.name}}</option>
                    {% endfor  %}
                </select>




                {{ render_field(form.colors, class="form-control", placeholder="Cor do Produto") }}
                {{ render_field(form.discription, class="form-control", placeholder="Descrição do Produto", rows="10") }}

                <div class="container">
                    <div class="row">
                        <div class="col-md-4">{{ render_field(form.image_1, class="form-control")}}</div>
                        <div class="col-md-4">{{ render_field(form.image_2, class="form-control")}}</div>
                        <div class="col-md-4">{{ render_field(form.image_3, class="form-control")}}</div>
                    </div>
                    <button type="submit" class="btn btn-success mt-4 mb-5">Alterar Produto</button>
                    <a class="btn btn-danger mt-4" style="margin-top: -40px; margin-left: 450px;" href="{{url_for('admin')}}">Cancelar</a>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock content %}
